# 1. Data set


```python
from sqlalchemy import create_engine
import pymysql

db_connection_str = 'mysql+pymysql://root:Lwglwk5120!@54.180.4.238/Linear_Regression'
db_connection = create_engine(db_connection_str)

df_original = pd.read_sql('SELECT * FROM api_football', con=db_connection)
df_original
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>player_name</th>
      <th>position</th>
      <th>age</th>
      <th>nationality</th>
      <th>height</th>
      <th>weight</th>
      <th>rating</th>
      <th>team_name</th>
      <th>league</th>
      <th>season</th>
      <th>...</th>
      <th>penalty_commited</th>
      <th>penalty_success</th>
      <th>penalty_missed</th>
      <th>penalty_saved</th>
      <th>games_appearences</th>
      <th>games_minutes_played</th>
      <th>games_lineups</th>
      <th>substitutes_in</th>
      <th>substitutes_out</th>
      <th>substitutes_bench</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>R. BÃ¼rki</td>
      <td>Goalkeeper</td>
      <td>30</td>
      <td>Switzerland</td>
      <td>187</td>
      <td>85</td>
      <td>7</td>
      <td>Borussia Dortmund</td>
      <td>Bundesliga</td>
      <td>2019-2020</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>26</td>
      <td>2321</td>
      <td>26</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Ahmet Can Tekin</td>
      <td>Midfielder</td>
      <td>22</td>
      <td>Turkey</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1074 Ã‡ankÄ±rÄ±spor</td>
      <td>Cup</td>
      <td>2019-2020</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>180</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>AnÄ±l SarÄ±oÄŸlu</td>
      <td>Defender</td>
      <td>23</td>
      <td>Turkey</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1074 Ã‡ankÄ±rÄ±spor</td>
      <td>Cup</td>
      <td>2019-2020</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>81</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>AnÄ±l SarÄ±oÄŸlu</td>
      <td>Defender</td>
      <td>23</td>
      <td>Turkey</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1074 Ã‡ankÄ±rÄ±spor</td>
      <td>Cup</td>
      <td>2018-2019</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>90</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>AnÄ±l SarÄ±oÄŸlu</td>
      <td>Defender</td>
      <td>23</td>
      <td>Turkey</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1074 Ã‡ankÄ±rÄ±spor</td>
      <td>Cup</td>
      <td>2017-2018</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>120</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>339780</th>
      <td>Vladislav Kormishin</td>
      <td>Attacker</td>
      <td>24</td>
      <td>Russia</td>
      <td>184</td>
      <td>73</td>
      <td>0</td>
      <td></td>
      <td>Cup</td>
      <td>2017-2018</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>40</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>339781</th>
      <td>Ilya Shvedyuk</td>
      <td>Midfielder</td>
      <td>24</td>
      <td>Russia</td>
      <td>178</td>
      <td>67</td>
      <td>0</td>
      <td></td>
      <td>Cup</td>
      <td>2017-2018</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>255</td>
      <td>3</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>339782</th>
      <td>Dmitriy Bakay</td>
      <td>Midfielder</td>
      <td>23</td>
      <td>Russia</td>
      <td>177</td>
      <td>68</td>
      <td>0</td>
      <td></td>
      <td>Cup</td>
      <td>2018-2019</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>4</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>339783</th>
      <td>Mikhail Belov</td>
      <td>Midfielder</td>
      <td>28</td>
      <td>Russia</td>
      <td>175</td>
      <td>71</td>
      <td>0</td>
      <td></td>
      <td>Cup</td>
      <td>2017-2018</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>90</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>339784</th>
      <td>Aleksandr Bazhutov</td>
      <td>Defender</td>
      <td>26</td>
      <td>Russia</td>
      <td>175</td>
      <td>73</td>
      <td>0</td>
      <td></td>
      <td>Cup</td>
      <td>2017-2018</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>80</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>339785 rows × 42 columns</p>
</div>




```python
db_connection_str = 'mysql+pymysql://root:Lwglwk5120!@54.180.4.238/Linear_Regression'
db_connection = create_engine(db_connection_str)

# df0 = market, instar
# df_origin = api
df0 = pd.read_sql('SELECT * FROM market_instagram', con=db_connection)
# df0['value'] = df0['value'].str.replace(pat=r'[â‚¬@m\r]', repl = r' ', regex=True).astype(np.float)
df0
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>player_name</th>
      <th>value</th>
      <th>follower</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>K. MbappÃ©</td>
      <td>180.0</td>
      <td>40807990</td>
    </tr>
    <tr>
      <th>1</th>
      <td>R. Sterling</td>
      <td>128.0</td>
      <td>7015127</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Neymar</td>
      <td>128.0</td>
      <td>139025980</td>
    </tr>
    <tr>
      <th>3</th>
      <td>S. ManÃ©</td>
      <td>120.0</td>
      <td>7300802</td>
    </tr>
    <tr>
      <th>4</th>
      <td>M. Salah</td>
      <td>120.0</td>
      <td>38661405</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>495</th>
      <td>A. Pereira</td>
      <td>16.0</td>
      <td>8752</td>
    </tr>
    <tr>
      <th>496</th>
      <td>A. Silva</td>
      <td>16.0</td>
      <td>1198681</td>
    </tr>
    <tr>
      <th>497</th>
      <td>J. Vardy</td>
      <td>16.0</td>
      <td>45362</td>
    </tr>
    <tr>
      <th>498</th>
      <td>L. Waldschmidt</td>
      <td>16.0</td>
      <td>12578</td>
    </tr>
    <tr>
      <th>499</th>
      <td>J. McGinn</td>
      <td>16.0</td>
      <td>23111</td>
    </tr>
  </tbody>
</table>
<p>500 rows × 3 columns</p>
</div>




```python
# 10~15만 데이터 추가 후 merge결과 : 474명 선수 데이터 출력(몸값, 인스타, 퍼포먼스 데이터)
# q = origin + api,instar

q = pd.merge(df_original, df0, on='player_name', how='inner')
q = q.groupby('player_name').sum()
q
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>height</th>
      <th>weight</th>
      <th>rating</th>
      <th>captain</th>
      <th>shots_total</th>
      <th>shots_on</th>
      <th>goals_total</th>
      <th>goals_conceded</th>
      <th>goals_assists</th>
      <th>...</th>
      <th>penalty_missed</th>
      <th>penalty_saved</th>
      <th>games_appearences</th>
      <th>games_minutes_played</th>
      <th>games_lineups</th>
      <th>substitutes_in</th>
      <th>substitutes_out</th>
      <th>substitutes_bench</th>
      <th>value</th>
      <th>follower</th>
    </tr>
    <tr>
      <th>player_name</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>A. Anguissa</th>
      <td>225</td>
      <td>1656</td>
      <td>702</td>
      <td>21</td>
      <td>0</td>
      <td>43</td>
      <td>10</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>109</td>
      <td>6985</td>
      <td>72</td>
      <td>37</td>
      <td>20</td>
      <td>46</td>
      <td>180.0</td>
      <td>610911</td>
    </tr>
    <tr>
      <th>A. Bastoni</th>
      <td>189</td>
      <td>1710</td>
      <td>675</td>
      <td>43</td>
      <td>0</td>
      <td>11</td>
      <td>4</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>46</td>
      <td>3192</td>
      <td>33</td>
      <td>13</td>
      <td>2</td>
      <td>57</td>
      <td>274.5</td>
      <td>2845728</td>
    </tr>
    <tr>
      <th>A. Belotti</th>
      <td>216</td>
      <td>1448</td>
      <td>576</td>
      <td>42</td>
      <td>90</td>
      <td>286</td>
      <td>107</td>
      <td>45</td>
      <td>0</td>
      <td>10</td>
      <td>...</td>
      <td>3</td>
      <td>0</td>
      <td>107</td>
      <td>9138</td>
      <td>101</td>
      <td>6</td>
      <td>7</td>
      <td>7</td>
      <td>256.0</td>
      <td>52983936</td>
    </tr>
    <tr>
      <th>A. Christensen</th>
      <td>336</td>
      <td>2632</td>
      <td>1092</td>
      <td>84</td>
      <td>0</td>
      <td>31</td>
      <td>5</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>91</td>
      <td>7339</td>
      <td>82</td>
      <td>9</td>
      <td>15</td>
      <td>62</td>
      <td>336.0</td>
      <td>1260</td>
    </tr>
    <tr>
      <th>A. Correa</th>
      <td>275</td>
      <td>1881</td>
      <td>770</td>
      <td>77</td>
      <td>0</td>
      <td>173</td>
      <td>74</td>
      <td>20</td>
      <td>0</td>
      <td>19</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>136</td>
      <td>7889</td>
      <td>85</td>
      <td>51</td>
      <td>59</td>
      <td>54</td>
      <td>352.0</td>
      <td>5208434</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>Y. Atal</th>
      <td>144</td>
      <td>1056</td>
      <td>384</td>
      <td>20</td>
      <td>0</td>
      <td>57</td>
      <td>24</td>
      <td>7</td>
      <td>0</td>
      <td>1</td>
      <td>...</td>
      <td>1</td>
      <td>0</td>
      <td>52</td>
      <td>3808</td>
      <td>42</td>
      <td>10</td>
      <td>6</td>
      <td>16</td>
      <td>120.0</td>
      <td>11730726</td>
    </tr>
    <tr>
      <th>Y. Carrasco</th>
      <td>189</td>
      <td>1260</td>
      <td>497</td>
      <td>34</td>
      <td>0</td>
      <td>51</td>
      <td>17</td>
      <td>4</td>
      <td>0</td>
      <td>6</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>35</td>
      <td>1761</td>
      <td>17</td>
      <td>18</td>
      <td>13</td>
      <td>25</td>
      <td>157.5</td>
      <td>5584369</td>
    </tr>
    <tr>
      <th>Y. Mina</th>
      <td>208</td>
      <td>1560</td>
      <td>752</td>
      <td>49</td>
      <td>0</td>
      <td>37</td>
      <td>13</td>
      <td>3</td>
      <td>0</td>
      <td>2</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>50</td>
      <td>3799</td>
      <td>43</td>
      <td>7</td>
      <td>4</td>
      <td>23</td>
      <td>160.0</td>
      <td>26719168</td>
    </tr>
    <tr>
      <th>Y. Poulsen</th>
      <td>286</td>
      <td>2112</td>
      <td>924</td>
      <td>72</td>
      <td>3</td>
      <td>174</td>
      <td>65</td>
      <td>29</td>
      <td>0</td>
      <td>23</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>121</td>
      <td>7775</td>
      <td>82</td>
      <td>39</td>
      <td>25</td>
      <td>50</td>
      <td>264.0</td>
      <td>1199000</td>
    </tr>
    <tr>
      <th>Y. Tielemans</th>
      <td>299</td>
      <td>2288</td>
      <td>936</td>
      <td>57</td>
      <td>2</td>
      <td>161</td>
      <td>57</td>
      <td>14</td>
      <td>0</td>
      <td>13</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>114</td>
      <td>8535</td>
      <td>98</td>
      <td>16</td>
      <td>29</td>
      <td>25</td>
      <td>572.0</td>
      <td>13365105</td>
    </tr>
  </tbody>
</table>
<p>474 rows × 38 columns</p>
</div>




```python
# plyername 기준으로 groupby

df_personal_info = df_original[['position','age','nationality','height','weight','team_name','league','season','rating']]
df_grouped = df_original.groupby('player_name').sum()
df_grouped.drop(['age','height','weight','rating'], axis=1, inplace=True)
df_grouped
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>captain</th>
      <th>shots_total</th>
      <th>shots_on</th>
      <th>goals_total</th>
      <th>goals_conceded</th>
      <th>goals_assists</th>
      <th>passes_total</th>
      <th>passes_key</th>
      <th>passes_accuracy</th>
      <th>tackles_total</th>
      <th>...</th>
      <th>penalty_commited</th>
      <th>penalty_success</th>
      <th>penalty_missed</th>
      <th>penalty_saved</th>
      <th>games_appearences</th>
      <th>games_minutes_played</th>
      <th>games_lineups</th>
      <th>substitutes_in</th>
      <th>substitutes_out</th>
      <th>substitutes_bench</th>
    </tr>
    <tr>
      <th>player_name</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th></th>
      <td>2</td>
      <td>42</td>
      <td>9</td>
      <td>0</td>
      <td>84</td>
      <td>2</td>
      <td>1075</td>
      <td>26</td>
      <td>460</td>
      <td>6</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>109</td>
      <td>8676</td>
      <td>97</td>
      <td>12</td>
      <td>13</td>
      <td>82</td>
    </tr>
    <tr>
      <th>A'la Jaffer</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>78</td>
      <td>6552</td>
      <td>74</td>
      <td>4</td>
      <td>8</td>
      <td>11</td>
    </tr>
    <tr>
      <th>A. Abaz</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>5</td>
    </tr>
    <tr>
      <th>A. Abdallah</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>100</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>6</td>
      <td>468</td>
      <td>5</td>
      <td>1</td>
      <td>1</td>
      <td>17</td>
    </tr>
    <tr>
      <th>A. Abdellaoui</th>
      <td>0</td>
      <td>8</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>548</td>
      <td>7</td>
      <td>71</td>
      <td>18</td>
      <td>...</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>63</td>
      <td>5087</td>
      <td>57</td>
      <td>6</td>
      <td>6</td>
      <td>11</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>È˜tefan TÃ¢rnovanu</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>23</td>
      <td>1980</td>
      <td>22</td>
      <td>1</td>
      <td>1</td>
      <td>9</td>
    </tr>
    <tr>
      <th>È˜tefÄƒniÅ£Äƒ Sava</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>6</td>
      <td>231</td>
      <td>3</td>
      <td>3</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Ðlbert Bogatyrev</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>6</td>
      <td>240</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>6</td>
    </tr>
    <tr>
      <th>Ð†bragÑ–m SuaÑ–b</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>9</td>
      <td>810</td>
      <td>9</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>Ð†van GolovkÑ–n</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>46</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>108702 rows × 32 columns</p>
</div>




```python
# 선수 별 경기 수 columns 생성

df_grouped = pd.merge(df_grouped, df0, on='player_name', how='inner' ).set_index('player_name')
# df_grouped.drop('number', axis=1, inplace=True)
df_grouped['games_played'] = round(df_grouped['games_minutes_played'] / 90,4)
```


```python
df_grouped.describe()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>captain</th>
      <th>shots_total</th>
      <th>shots_on</th>
      <th>goals_total</th>
      <th>goals_conceded</th>
      <th>goals_assists</th>
      <th>passes_total</th>
      <th>passes_key</th>
      <th>passes_accuracy</th>
      <th>tackles_total</th>
      <th>...</th>
      <th>penalty_saved</th>
      <th>games_appearences</th>
      <th>games_minutes_played</th>
      <th>games_lineups</th>
      <th>substitutes_in</th>
      <th>substitutes_out</th>
      <th>substitutes_bench</th>
      <th>value</th>
      <th>follower</th>
      <th>games_played</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>474.000000</td>
      <td>474.000000</td>
      <td>474.000000</td>
      <td>474.000000</td>
      <td>474.000000</td>
      <td>474.000000</td>
      <td>474.000000</td>
      <td>474.000000</td>
      <td>474.000000</td>
      <td>474.000000</td>
      <td>...</td>
      <td>474.000000</td>
      <td>474.000000</td>
      <td>474.000000</td>
      <td>474.000000</td>
      <td>474.000000</td>
      <td>474.000000</td>
      <td>474.000000</td>
      <td>474.000000</td>
      <td>4.740000e+02</td>
      <td>474.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>4.006329</td>
      <td>121.563291</td>
      <td>45.959916</td>
      <td>16.812236</td>
      <td>4.120253</td>
      <td>10.059072</td>
      <td>2835.892405</td>
      <td>86.472574</td>
      <td>623.097046</td>
      <td>69.985232</td>
      <td>...</td>
      <td>0.105485</td>
      <td>93.027426</td>
      <td>7024.694093</td>
      <td>78.464135</td>
      <td>14.563291</td>
      <td>20.462025</td>
      <td>26.497890</td>
      <td>33.371308</td>
      <td>3.742916e+06</td>
      <td>78.052156</td>
    </tr>
    <tr>
      <th>std</th>
      <td>14.325643</td>
      <td>110.715133</td>
      <td>47.907863</td>
      <td>19.831120</td>
      <td>21.811810</td>
      <td>9.676845</td>
      <td>1921.378845</td>
      <td>73.567477</td>
      <td>256.520627</td>
      <td>55.298248</td>
      <td>...</td>
      <td>0.651435</td>
      <td>38.749443</td>
      <td>3196.602637</td>
      <td>36.209570</td>
      <td>12.411599</td>
      <td>16.656194</td>
      <td>20.500941</td>
      <td>20.531400</td>
      <td>1.508124e+07</td>
      <td>35.517807</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>16.000000</td>
      <td>0.000000e+00</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.000000</td>
      <td>45.000000</td>
      <td>12.000000</td>
      <td>3.000000</td>
      <td>0.000000</td>
      <td>2.000000</td>
      <td>1383.500000</td>
      <td>27.250000</td>
      <td>434.250000</td>
      <td>31.000000</td>
      <td>...</td>
      <td>0.000000</td>
      <td>75.000000</td>
      <td>4882.750000</td>
      <td>55.250000</td>
      <td>5.000000</td>
      <td>6.250000</td>
      <td>13.000000</td>
      <td>20.000000</td>
      <td>1.478260e+05</td>
      <td>54.252750</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>0.000000</td>
      <td>85.500000</td>
      <td>28.500000</td>
      <td>9.000000</td>
      <td>0.000000</td>
      <td>8.000000</td>
      <td>2388.000000</td>
      <td>72.000000</td>
      <td>632.000000</td>
      <td>60.000000</td>
      <td>...</td>
      <td>0.000000</td>
      <td>99.000000</td>
      <td>7323.000000</td>
      <td>83.000000</td>
      <td>12.000000</td>
      <td>18.000000</td>
      <td>23.000000</td>
      <td>28.000000</td>
      <td>6.841665e+05</td>
      <td>81.366700</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.000000</td>
      <td>174.750000</td>
      <td>66.000000</td>
      <td>22.750000</td>
      <td>0.000000</td>
      <td>14.000000</td>
      <td>4052.250000</td>
      <td>127.000000</td>
      <td>800.000000</td>
      <td>99.750000</td>
      <td>...</td>
      <td>0.000000</td>
      <td>116.000000</td>
      <td>9134.500000</td>
      <td>103.000000</td>
      <td>21.000000</td>
      <td>30.000000</td>
      <td>36.000000</td>
      <td>40.000000</td>
      <td>2.072550e+06</td>
      <td>101.494425</td>
    </tr>
    <tr>
      <th>max</th>
      <td>127.000000</td>
      <td>657.000000</td>
      <td>324.000000</td>
      <td>121.000000</td>
      <td>174.000000</td>
      <td>52.000000</td>
      <td>9558.000000</td>
      <td>418.000000</td>
      <td>1816.000000</td>
      <td>384.000000</td>
      <td>...</td>
      <td>8.000000</td>
      <td>422.000000</td>
      <td>28111.000000</td>
      <td>314.000000</td>
      <td>108.000000</td>
      <td>130.000000</td>
      <td>241.000000</td>
      <td>180.000000</td>
      <td>2.221069e+08</td>
      <td>312.344400</td>
    </tr>
  </tbody>
</table>
<p>8 rows × 35 columns</p>
</div>




```python
# 선수 당 경기수 분포 확인

%matplotlib inline

plt.figure(figsize=(15,5))
plt.subplot(121)
sns.distplot(df_grouped['games_played'])
plt.subplot(122)
sns.boxplot(df_grouped['games_played'])
plt.show()
```


![png](output_7_0.png)



```python
# 선수당 경기수 50 미만 제거

%matplotlib inline

df = df_grouped.copy()
is_time = df['games_played'] >= 50
df = df[is_time]
df

plt.figure(figsize=(15,5))
plt.subplot(121)
sns.distplot(df['games_played'])
plt.subplot(122)
sns.boxplot(df['games_played'])
plt.show()
```


![png](output_8_0.png)



```python
# # 최종 dataset 생성(df) = 3시즌 간 경기수 50 초과 대상

# b =pd.DataFrame(df['games_played'])
# a = round(df[['captain', 'shots_total', 'shots_on', 'goals_total', 'goals_conceded',
#        'goals_assists', 'passes_total', 'passes_key', 'passes_accuracy',
#        'tackles_total', 'tackles_blocks', 'tackles_interceptions',
#        'duels_total', 'duels_won', 'dribbles_attempts', 'dribbles_success',
#        'fouls_drawn', 'fouls_committed', 'cards_yellow', 'cards_yellowred',
#        'cards_red', 'penalty_won', 'penalty_commited', 'penalty_success',
#        'penalty_missed', 'penalty_saved', 'games_appearences',
#        'games_lineups', 'substitutes_in',
#        'substitutes_out', 'substitutes_bench']].div(df['games_played'], axis=0),4)

# df = pd.concat([df[['value','follower']], a], axis=1)
# df = pd.concat([df, b], axis=1)
# df

# # df 에는 'age','nationality' 없음
```


```python
# personal info 추가 : 건호님 코드 기반
# 50경기 미만 제거 후 : 371명ㄴ

df_stat = df_original[['player_name','age', 'height', 'weight', 'rating']]
df_visual = pd.merge(df_stat, df, on=['player_name'], how='inner')
df_visual = df_visual.groupby('player_name').mean()
df_visual
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>height</th>
      <th>weight</th>
      <th>rating</th>
      <th>captain</th>
      <th>shots_total</th>
      <th>shots_on</th>
      <th>goals_total</th>
      <th>goals_conceded</th>
      <th>goals_assists</th>
      <th>...</th>
      <th>penalty_saved</th>
      <th>games_appearences</th>
      <th>games_minutes_played</th>
      <th>games_lineups</th>
      <th>substitutes_in</th>
      <th>substitutes_out</th>
      <th>substitutes_bench</th>
      <th>value</th>
      <th>follower</th>
      <th>games_played</th>
    </tr>
    <tr>
      <th>player_name</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>A. Anguissa</th>
      <td>25.000000</td>
      <td>184.000000</td>
      <td>78.000000</td>
      <td>2.333333</td>
      <td>0.0</td>
      <td>43.0</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>109.0</td>
      <td>6985.0</td>
      <td>72.0</td>
      <td>37.0</td>
      <td>20.0</td>
      <td>46.0</td>
      <td>20.0</td>
      <td>67879.0</td>
      <td>77.6111</td>
    </tr>
    <tr>
      <th>A. Belotti</th>
      <td>27.000000</td>
      <td>181.000000</td>
      <td>72.000000</td>
      <td>5.250000</td>
      <td>90.0</td>
      <td>286.0</td>
      <td>107.0</td>
      <td>45.0</td>
      <td>0.0</td>
      <td>10.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>107.0</td>
      <td>9138.0</td>
      <td>101.0</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>32.0</td>
      <td>6622992.0</td>
      <td>101.5333</td>
    </tr>
    <tr>
      <th>A. Christensen</th>
      <td>24.000000</td>
      <td>188.000000</td>
      <td>78.000000</td>
      <td>6.000000</td>
      <td>0.0</td>
      <td>31.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>91.0</td>
      <td>7339.0</td>
      <td>82.0</td>
      <td>9.0</td>
      <td>15.0</td>
      <td>62.0</td>
      <td>24.0</td>
      <td>90.0</td>
      <td>81.5444</td>
    </tr>
    <tr>
      <th>A. Correa</th>
      <td>25.000000</td>
      <td>171.000000</td>
      <td>70.000000</td>
      <td>7.000000</td>
      <td>0.0</td>
      <td>173.0</td>
      <td>74.0</td>
      <td>20.0</td>
      <td>0.0</td>
      <td>19.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>136.0</td>
      <td>7889.0</td>
      <td>85.0</td>
      <td>51.0</td>
      <td>59.0</td>
      <td>54.0</td>
      <td>32.0</td>
      <td>473494.0</td>
      <td>87.6556</td>
    </tr>
    <tr>
      <th>A. Di MarÃ­a</th>
      <td>32.000000</td>
      <td>180.000000</td>
      <td>75.000000</td>
      <td>4.833333</td>
      <td>0.0</td>
      <td>321.0</td>
      <td>116.0</td>
      <td>49.0</td>
      <td>0.0</td>
      <td>39.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>125.0</td>
      <td>9373.0</td>
      <td>112.0</td>
      <td>13.0</td>
      <td>61.0</td>
      <td>25.0</td>
      <td>32.0</td>
      <td>8519824.0</td>
      <td>104.1444</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>W. Zaha</th>
      <td>28.000000</td>
      <td>180.000000</td>
      <td>66.000000</td>
      <td>3.888889</td>
      <td>0.0</td>
      <td>188.0</td>
      <td>66.0</td>
      <td>22.0</td>
      <td>0.0</td>
      <td>11.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>95.0</td>
      <td>8343.0</td>
      <td>92.0</td>
      <td>3.0</td>
      <td>6.0</td>
      <td>3.0</td>
      <td>40.5</td>
      <td>913272.0</td>
      <td>92.7000</td>
    </tr>
    <tr>
      <th>Wesley</th>
      <td>23.076923</td>
      <td>188.230769</td>
      <td>86.769231</td>
      <td>1.615385</td>
      <td>0.0</td>
      <td>45.0</td>
      <td>24.0</td>
      <td>35.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>113.0</td>
      <td>8375.0</td>
      <td>98.0</td>
      <td>15.0</td>
      <td>48.0</td>
      <td>29.0</td>
      <td>24.0</td>
      <td>979374.0</td>
      <td>93.0556</td>
    </tr>
    <tr>
      <th>Willian</th>
      <td>32.000000</td>
      <td>175.000000</td>
      <td>77.000000</td>
      <td>6.153846</td>
      <td>3.0</td>
      <td>256.0</td>
      <td>98.0</td>
      <td>28.0</td>
      <td>0.0</td>
      <td>28.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>146.0</td>
      <td>9005.0</td>
      <td>103.0</td>
      <td>43.0</td>
      <td>54.0</td>
      <td>52.0</td>
      <td>22.5</td>
      <td>8983450.0</td>
      <td>100.0556</td>
    </tr>
    <tr>
      <th>Y. Poulsen</th>
      <td>26.000000</td>
      <td>192.000000</td>
      <td>84.000000</td>
      <td>6.545455</td>
      <td>3.0</td>
      <td>174.0</td>
      <td>65.0</td>
      <td>29.0</td>
      <td>0.0</td>
      <td>23.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>121.0</td>
      <td>7775.0</td>
      <td>82.0</td>
      <td>39.0</td>
      <td>25.0</td>
      <td>50.0</td>
      <td>24.0</td>
      <td>109000.0</td>
      <td>86.3889</td>
    </tr>
    <tr>
      <th>Y. Tielemans</th>
      <td>23.000000</td>
      <td>176.000000</td>
      <td>72.000000</td>
      <td>4.384615</td>
      <td>2.0</td>
      <td>161.0</td>
      <td>57.0</td>
      <td>14.0</td>
      <td>0.0</td>
      <td>13.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>114.0</td>
      <td>8535.0</td>
      <td>98.0</td>
      <td>16.0</td>
      <td>29.0</td>
      <td>25.0</td>
      <td>44.0</td>
      <td>1028085.0</td>
      <td>94.8333</td>
    </tr>
  </tbody>
</table>
<p>371 rows × 39 columns</p>
</div>




```python
df_num = df_visual.select_dtypes(include=['float64', 'int64'])
df_num
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>height</th>
      <th>weight</th>
      <th>rating</th>
      <th>captain</th>
      <th>shots_total</th>
      <th>shots_on</th>
      <th>goals_total</th>
      <th>goals_conceded</th>
      <th>goals_assists</th>
      <th>...</th>
      <th>penalty_saved</th>
      <th>games_appearences</th>
      <th>games_minutes_played</th>
      <th>games_lineups</th>
      <th>substitutes_in</th>
      <th>substitutes_out</th>
      <th>substitutes_bench</th>
      <th>value</th>
      <th>follower</th>
      <th>games_played</th>
    </tr>
    <tr>
      <th>player_name</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>A. Anguissa</th>
      <td>25.000000</td>
      <td>184.000000</td>
      <td>78.000000</td>
      <td>2.333333</td>
      <td>0.0</td>
      <td>43.0</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>109.0</td>
      <td>6985.0</td>
      <td>72.0</td>
      <td>37.0</td>
      <td>20.0</td>
      <td>46.0</td>
      <td>20.0</td>
      <td>67879.0</td>
      <td>77.6111</td>
    </tr>
    <tr>
      <th>A. Belotti</th>
      <td>27.000000</td>
      <td>181.000000</td>
      <td>72.000000</td>
      <td>5.250000</td>
      <td>90.0</td>
      <td>286.0</td>
      <td>107.0</td>
      <td>45.0</td>
      <td>0.0</td>
      <td>10.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>107.0</td>
      <td>9138.0</td>
      <td>101.0</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>32.0</td>
      <td>6622992.0</td>
      <td>101.5333</td>
    </tr>
    <tr>
      <th>A. Christensen</th>
      <td>24.000000</td>
      <td>188.000000</td>
      <td>78.000000</td>
      <td>6.000000</td>
      <td>0.0</td>
      <td>31.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>91.0</td>
      <td>7339.0</td>
      <td>82.0</td>
      <td>9.0</td>
      <td>15.0</td>
      <td>62.0</td>
      <td>24.0</td>
      <td>90.0</td>
      <td>81.5444</td>
    </tr>
    <tr>
      <th>A. Correa</th>
      <td>25.000000</td>
      <td>171.000000</td>
      <td>70.000000</td>
      <td>7.000000</td>
      <td>0.0</td>
      <td>173.0</td>
      <td>74.0</td>
      <td>20.0</td>
      <td>0.0</td>
      <td>19.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>136.0</td>
      <td>7889.0</td>
      <td>85.0</td>
      <td>51.0</td>
      <td>59.0</td>
      <td>54.0</td>
      <td>32.0</td>
      <td>473494.0</td>
      <td>87.6556</td>
    </tr>
    <tr>
      <th>A. Di MarÃ­a</th>
      <td>32.000000</td>
      <td>180.000000</td>
      <td>75.000000</td>
      <td>4.833333</td>
      <td>0.0</td>
      <td>321.0</td>
      <td>116.0</td>
      <td>49.0</td>
      <td>0.0</td>
      <td>39.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>125.0</td>
      <td>9373.0</td>
      <td>112.0</td>
      <td>13.0</td>
      <td>61.0</td>
      <td>25.0</td>
      <td>32.0</td>
      <td>8519824.0</td>
      <td>104.1444</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>W. Zaha</th>
      <td>28.000000</td>
      <td>180.000000</td>
      <td>66.000000</td>
      <td>3.888889</td>
      <td>0.0</td>
      <td>188.0</td>
      <td>66.0</td>
      <td>22.0</td>
      <td>0.0</td>
      <td>11.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>95.0</td>
      <td>8343.0</td>
      <td>92.0</td>
      <td>3.0</td>
      <td>6.0</td>
      <td>3.0</td>
      <td>40.5</td>
      <td>913272.0</td>
      <td>92.7000</td>
    </tr>
    <tr>
      <th>Wesley</th>
      <td>23.076923</td>
      <td>188.230769</td>
      <td>86.769231</td>
      <td>1.615385</td>
      <td>0.0</td>
      <td>45.0</td>
      <td>24.0</td>
      <td>35.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>113.0</td>
      <td>8375.0</td>
      <td>98.0</td>
      <td>15.0</td>
      <td>48.0</td>
      <td>29.0</td>
      <td>24.0</td>
      <td>979374.0</td>
      <td>93.0556</td>
    </tr>
    <tr>
      <th>Willian</th>
      <td>32.000000</td>
      <td>175.000000</td>
      <td>77.000000</td>
      <td>6.153846</td>
      <td>3.0</td>
      <td>256.0</td>
      <td>98.0</td>
      <td>28.0</td>
      <td>0.0</td>
      <td>28.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>146.0</td>
      <td>9005.0</td>
      <td>103.0</td>
      <td>43.0</td>
      <td>54.0</td>
      <td>52.0</td>
      <td>22.5</td>
      <td>8983450.0</td>
      <td>100.0556</td>
    </tr>
    <tr>
      <th>Y. Poulsen</th>
      <td>26.000000</td>
      <td>192.000000</td>
      <td>84.000000</td>
      <td>6.545455</td>
      <td>3.0</td>
      <td>174.0</td>
      <td>65.0</td>
      <td>29.0</td>
      <td>0.0</td>
      <td>23.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>121.0</td>
      <td>7775.0</td>
      <td>82.0</td>
      <td>39.0</td>
      <td>25.0</td>
      <td>50.0</td>
      <td>24.0</td>
      <td>109000.0</td>
      <td>86.3889</td>
    </tr>
    <tr>
      <th>Y. Tielemans</th>
      <td>23.000000</td>
      <td>176.000000</td>
      <td>72.000000</td>
      <td>4.384615</td>
      <td>2.0</td>
      <td>161.0</td>
      <td>57.0</td>
      <td>14.0</td>
      <td>0.0</td>
      <td>13.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>114.0</td>
      <td>8535.0</td>
      <td>98.0</td>
      <td>16.0</td>
      <td>29.0</td>
      <td>25.0</td>
      <td>44.0</td>
      <td>1028085.0</td>
      <td>94.8333</td>
    </tr>
  </tbody>
</table>
<p>371 rows × 39 columns</p>
</div>




```python
# df_num = 최종 숫자 데이터(nationality 없음)
# df_notnum = nationality, league 데이터 포함

df_stat = df_original[['player_name', 'age', 'height', 'weight', 'rating', 'league', 'nationality']]
df_notnum = pd.merge(df_stat, df, on=['player_name'], how='inner')
#df_bp = df_bp.groupby('player_name').mean()
df_notnum
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>player_name</th>
      <th>age</th>
      <th>height</th>
      <th>weight</th>
      <th>rating</th>
      <th>league</th>
      <th>nationality</th>
      <th>captain</th>
      <th>shots_total</th>
      <th>shots_on</th>
      <th>...</th>
      <th>penalty_saved</th>
      <th>games_appearences</th>
      <th>games_minutes_played</th>
      <th>games_lineups</th>
      <th>substitutes_in</th>
      <th>substitutes_out</th>
      <th>substitutes_bench</th>
      <th>value</th>
      <th>follower</th>
      <th>games_played</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A. Kramaric</td>
      <td>29</td>
      <td>177</td>
      <td>73</td>
      <td>7</td>
      <td>Bundesliga</td>
      <td>Croatia</td>
      <td>0</td>
      <td>267</td>
      <td>111</td>
      <td>...</td>
      <td>0</td>
      <td>94</td>
      <td>7161</td>
      <td>77</td>
      <td>17</td>
      <td>18</td>
      <td>21</td>
      <td>29.0</td>
      <td>1468927</td>
      <td>79.5667</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A. Kramaric</td>
      <td>29</td>
      <td>177</td>
      <td>73</td>
      <td>7</td>
      <td>Bundesliga</td>
      <td>Croatia</td>
      <td>0</td>
      <td>267</td>
      <td>111</td>
      <td>...</td>
      <td>0</td>
      <td>94</td>
      <td>7161</td>
      <td>77</td>
      <td>17</td>
      <td>18</td>
      <td>21</td>
      <td>29.0</td>
      <td>1468927</td>
      <td>79.5667</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A. Kramaric</td>
      <td>29</td>
      <td>177</td>
      <td>73</td>
      <td>7</td>
      <td>Bundesliga</td>
      <td>Croatia</td>
      <td>0</td>
      <td>267</td>
      <td>111</td>
      <td>...</td>
      <td>0</td>
      <td>94</td>
      <td>7161</td>
      <td>77</td>
      <td>17</td>
      <td>18</td>
      <td>21</td>
      <td>29.0</td>
      <td>1468927</td>
      <td>79.5667</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A. Kramaric</td>
      <td>29</td>
      <td>177</td>
      <td>73</td>
      <td>6</td>
      <td>DFB Pokal</td>
      <td>Croatia</td>
      <td>0</td>
      <td>267</td>
      <td>111</td>
      <td>...</td>
      <td>0</td>
      <td>94</td>
      <td>7161</td>
      <td>77</td>
      <td>17</td>
      <td>18</td>
      <td>21</td>
      <td>29.0</td>
      <td>1468927</td>
      <td>79.5667</td>
    </tr>
    <tr>
      <th>4</th>
      <td>A. Kramaric</td>
      <td>29</td>
      <td>177</td>
      <td>73</td>
      <td>6</td>
      <td>DFB Pokal</td>
      <td>Croatia</td>
      <td>0</td>
      <td>267</td>
      <td>111</td>
      <td>...</td>
      <td>0</td>
      <td>94</td>
      <td>7161</td>
      <td>77</td>
      <td>17</td>
      <td>18</td>
      <td>21</td>
      <td>29.0</td>
      <td>1468927</td>
      <td>79.5667</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3973</th>
      <td>R. Neves</td>
      <td>23</td>
      <td>180</td>
      <td>80</td>
      <td>7</td>
      <td>League Cup</td>
      <td>Portugal</td>
      <td>1</td>
      <td>246</td>
      <td>57</td>
      <td>...</td>
      <td>0</td>
      <td>125</td>
      <td>10288</td>
      <td>118</td>
      <td>7</td>
      <td>26</td>
      <td>14</td>
      <td>40.0</td>
      <td>2079626</td>
      <td>114.3111</td>
    </tr>
    <tr>
      <th>3974</th>
      <td>R. Neves</td>
      <td>23</td>
      <td>180</td>
      <td>80</td>
      <td>7</td>
      <td>FA Cup</td>
      <td>Portugal</td>
      <td>1</td>
      <td>246</td>
      <td>57</td>
      <td>...</td>
      <td>0</td>
      <td>125</td>
      <td>10288</td>
      <td>118</td>
      <td>7</td>
      <td>26</td>
      <td>14</td>
      <td>40.0</td>
      <td>2079626</td>
      <td>114.3111</td>
    </tr>
    <tr>
      <th>3975</th>
      <td>R. Neves</td>
      <td>23</td>
      <td>180</td>
      <td>80</td>
      <td>7</td>
      <td>FA Cup</td>
      <td>Portugal</td>
      <td>1</td>
      <td>246</td>
      <td>57</td>
      <td>...</td>
      <td>0</td>
      <td>125</td>
      <td>10288</td>
      <td>118</td>
      <td>7</td>
      <td>26</td>
      <td>14</td>
      <td>40.0</td>
      <td>2079626</td>
      <td>114.3111</td>
    </tr>
    <tr>
      <th>3976</th>
      <td>R. Neves</td>
      <td>23</td>
      <td>180</td>
      <td>80</td>
      <td>0</td>
      <td>FA Cup</td>
      <td>Portugal</td>
      <td>1</td>
      <td>246</td>
      <td>57</td>
      <td>...</td>
      <td>0</td>
      <td>125</td>
      <td>10288</td>
      <td>118</td>
      <td>7</td>
      <td>26</td>
      <td>14</td>
      <td>40.0</td>
      <td>2079626</td>
      <td>114.3111</td>
    </tr>
    <tr>
      <th>3977</th>
      <td>R. Neves</td>
      <td>23</td>
      <td>180</td>
      <td>80</td>
      <td>7</td>
      <td>UEFA Europa League</td>
      <td>Portugal</td>
      <td>1</td>
      <td>246</td>
      <td>57</td>
      <td>...</td>
      <td>0</td>
      <td>125</td>
      <td>10288</td>
      <td>118</td>
      <td>7</td>
      <td>26</td>
      <td>14</td>
      <td>40.0</td>
      <td>2079626</td>
      <td>114.3111</td>
    </tr>
  </tbody>
</table>
<p>3978 rows × 42 columns</p>
</div>




```python
df_num
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>height</th>
      <th>weight</th>
      <th>rating</th>
      <th>captain</th>
      <th>shots_total</th>
      <th>shots_on</th>
      <th>goals_total</th>
      <th>goals_conceded</th>
      <th>goals_assists</th>
      <th>...</th>
      <th>penalty_saved</th>
      <th>games_appearences</th>
      <th>games_minutes_played</th>
      <th>games_lineups</th>
      <th>substitutes_in</th>
      <th>substitutes_out</th>
      <th>substitutes_bench</th>
      <th>value</th>
      <th>follower</th>
      <th>games_played</th>
    </tr>
    <tr>
      <th>player_name</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>A. Anguissa</th>
      <td>25.000000</td>
      <td>184.000000</td>
      <td>78.000000</td>
      <td>2.333333</td>
      <td>0.0</td>
      <td>43.0</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>109.0</td>
      <td>6985.0</td>
      <td>72.0</td>
      <td>37.0</td>
      <td>20.0</td>
      <td>46.0</td>
      <td>20.0</td>
      <td>67879.0</td>
      <td>77.6111</td>
    </tr>
    <tr>
      <th>A. Belotti</th>
      <td>27.000000</td>
      <td>181.000000</td>
      <td>72.000000</td>
      <td>5.250000</td>
      <td>90.0</td>
      <td>286.0</td>
      <td>107.0</td>
      <td>45.0</td>
      <td>0.0</td>
      <td>10.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>107.0</td>
      <td>9138.0</td>
      <td>101.0</td>
      <td>6.0</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>32.0</td>
      <td>6622992.0</td>
      <td>101.5333</td>
    </tr>
    <tr>
      <th>A. Christensen</th>
      <td>24.000000</td>
      <td>188.000000</td>
      <td>78.000000</td>
      <td>6.000000</td>
      <td>0.0</td>
      <td>31.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>91.0</td>
      <td>7339.0</td>
      <td>82.0</td>
      <td>9.0</td>
      <td>15.0</td>
      <td>62.0</td>
      <td>24.0</td>
      <td>90.0</td>
      <td>81.5444</td>
    </tr>
    <tr>
      <th>A. Correa</th>
      <td>25.000000</td>
      <td>171.000000</td>
      <td>70.000000</td>
      <td>7.000000</td>
      <td>0.0</td>
      <td>173.0</td>
      <td>74.0</td>
      <td>20.0</td>
      <td>0.0</td>
      <td>19.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>136.0</td>
      <td>7889.0</td>
      <td>85.0</td>
      <td>51.0</td>
      <td>59.0</td>
      <td>54.0</td>
      <td>32.0</td>
      <td>473494.0</td>
      <td>87.6556</td>
    </tr>
    <tr>
      <th>A. Di MarÃ­a</th>
      <td>32.000000</td>
      <td>180.000000</td>
      <td>75.000000</td>
      <td>4.833333</td>
      <td>0.0</td>
      <td>321.0</td>
      <td>116.0</td>
      <td>49.0</td>
      <td>0.0</td>
      <td>39.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>125.0</td>
      <td>9373.0</td>
      <td>112.0</td>
      <td>13.0</td>
      <td>61.0</td>
      <td>25.0</td>
      <td>32.0</td>
      <td>8519824.0</td>
      <td>104.1444</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>W. Zaha</th>
      <td>28.000000</td>
      <td>180.000000</td>
      <td>66.000000</td>
      <td>3.888889</td>
      <td>0.0</td>
      <td>188.0</td>
      <td>66.0</td>
      <td>22.0</td>
      <td>0.0</td>
      <td>11.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>95.0</td>
      <td>8343.0</td>
      <td>92.0</td>
      <td>3.0</td>
      <td>6.0</td>
      <td>3.0</td>
      <td>40.5</td>
      <td>913272.0</td>
      <td>92.7000</td>
    </tr>
    <tr>
      <th>Wesley</th>
      <td>23.076923</td>
      <td>188.230769</td>
      <td>86.769231</td>
      <td>1.615385</td>
      <td>0.0</td>
      <td>45.0</td>
      <td>24.0</td>
      <td>35.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>113.0</td>
      <td>8375.0</td>
      <td>98.0</td>
      <td>15.0</td>
      <td>48.0</td>
      <td>29.0</td>
      <td>24.0</td>
      <td>979374.0</td>
      <td>93.0556</td>
    </tr>
    <tr>
      <th>Willian</th>
      <td>32.000000</td>
      <td>175.000000</td>
      <td>77.000000</td>
      <td>6.153846</td>
      <td>3.0</td>
      <td>256.0</td>
      <td>98.0</td>
      <td>28.0</td>
      <td>0.0</td>
      <td>28.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>146.0</td>
      <td>9005.0</td>
      <td>103.0</td>
      <td>43.0</td>
      <td>54.0</td>
      <td>52.0</td>
      <td>22.5</td>
      <td>8983450.0</td>
      <td>100.0556</td>
    </tr>
    <tr>
      <th>Y. Poulsen</th>
      <td>26.000000</td>
      <td>192.000000</td>
      <td>84.000000</td>
      <td>6.545455</td>
      <td>3.0</td>
      <td>174.0</td>
      <td>65.0</td>
      <td>29.0</td>
      <td>0.0</td>
      <td>23.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>121.0</td>
      <td>7775.0</td>
      <td>82.0</td>
      <td>39.0</td>
      <td>25.0</td>
      <td>50.0</td>
      <td>24.0</td>
      <td>109000.0</td>
      <td>86.3889</td>
    </tr>
    <tr>
      <th>Y. Tielemans</th>
      <td>23.000000</td>
      <td>176.000000</td>
      <td>72.000000</td>
      <td>4.384615</td>
      <td>2.0</td>
      <td>161.0</td>
      <td>57.0</td>
      <td>14.0</td>
      <td>0.0</td>
      <td>13.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>114.0</td>
      <td>8535.0</td>
      <td>98.0</td>
      <td>16.0</td>
      <td>29.0</td>
      <td>25.0</td>
      <td>44.0</td>
      <td>1028085.0</td>
      <td>94.8333</td>
    </tr>
  </tbody>
</table>
<p>371 rows × 39 columns</p>
</div>




```python
df_notnum
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>player_name</th>
      <th>age</th>
      <th>height</th>
      <th>weight</th>
      <th>rating</th>
      <th>league</th>
      <th>nationality</th>
      <th>captain</th>
      <th>shots_total</th>
      <th>shots_on</th>
      <th>...</th>
      <th>penalty_saved</th>
      <th>games_appearences</th>
      <th>games_minutes_played</th>
      <th>games_lineups</th>
      <th>substitutes_in</th>
      <th>substitutes_out</th>
      <th>substitutes_bench</th>
      <th>value</th>
      <th>follower</th>
      <th>games_played</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A. Kramaric</td>
      <td>29</td>
      <td>177</td>
      <td>73</td>
      <td>7</td>
      <td>Bundesliga</td>
      <td>Croatia</td>
      <td>0</td>
      <td>267</td>
      <td>111</td>
      <td>...</td>
      <td>0</td>
      <td>94</td>
      <td>7161</td>
      <td>77</td>
      <td>17</td>
      <td>18</td>
      <td>21</td>
      <td>29.0</td>
      <td>1468927</td>
      <td>79.5667</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A. Kramaric</td>
      <td>29</td>
      <td>177</td>
      <td>73</td>
      <td>7</td>
      <td>Bundesliga</td>
      <td>Croatia</td>
      <td>0</td>
      <td>267</td>
      <td>111</td>
      <td>...</td>
      <td>0</td>
      <td>94</td>
      <td>7161</td>
      <td>77</td>
      <td>17</td>
      <td>18</td>
      <td>21</td>
      <td>29.0</td>
      <td>1468927</td>
      <td>79.5667</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A. Kramaric</td>
      <td>29</td>
      <td>177</td>
      <td>73</td>
      <td>7</td>
      <td>Bundesliga</td>
      <td>Croatia</td>
      <td>0</td>
      <td>267</td>
      <td>111</td>
      <td>...</td>
      <td>0</td>
      <td>94</td>
      <td>7161</td>
      <td>77</td>
      <td>17</td>
      <td>18</td>
      <td>21</td>
      <td>29.0</td>
      <td>1468927</td>
      <td>79.5667</td>
    </tr>
    <tr>
      <th>3</th>
      <td>A. Kramaric</td>
      <td>29</td>
      <td>177</td>
      <td>73</td>
      <td>6</td>
      <td>DFB Pokal</td>
      <td>Croatia</td>
      <td>0</td>
      <td>267</td>
      <td>111</td>
      <td>...</td>
      <td>0</td>
      <td>94</td>
      <td>7161</td>
      <td>77</td>
      <td>17</td>
      <td>18</td>
      <td>21</td>
      <td>29.0</td>
      <td>1468927</td>
      <td>79.5667</td>
    </tr>
    <tr>
      <th>4</th>
      <td>A. Kramaric</td>
      <td>29</td>
      <td>177</td>
      <td>73</td>
      <td>6</td>
      <td>DFB Pokal</td>
      <td>Croatia</td>
      <td>0</td>
      <td>267</td>
      <td>111</td>
      <td>...</td>
      <td>0</td>
      <td>94</td>
      <td>7161</td>
      <td>77</td>
      <td>17</td>
      <td>18</td>
      <td>21</td>
      <td>29.0</td>
      <td>1468927</td>
      <td>79.5667</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3973</th>
      <td>R. Neves</td>
      <td>23</td>
      <td>180</td>
      <td>80</td>
      <td>7</td>
      <td>League Cup</td>
      <td>Portugal</td>
      <td>1</td>
      <td>246</td>
      <td>57</td>
      <td>...</td>
      <td>0</td>
      <td>125</td>
      <td>10288</td>
      <td>118</td>
      <td>7</td>
      <td>26</td>
      <td>14</td>
      <td>40.0</td>
      <td>2079626</td>
      <td>114.3111</td>
    </tr>
    <tr>
      <th>3974</th>
      <td>R. Neves</td>
      <td>23</td>
      <td>180</td>
      <td>80</td>
      <td>7</td>
      <td>FA Cup</td>
      <td>Portugal</td>
      <td>1</td>
      <td>246</td>
      <td>57</td>
      <td>...</td>
      <td>0</td>
      <td>125</td>
      <td>10288</td>
      <td>118</td>
      <td>7</td>
      <td>26</td>
      <td>14</td>
      <td>40.0</td>
      <td>2079626</td>
      <td>114.3111</td>
    </tr>
    <tr>
      <th>3975</th>
      <td>R. Neves</td>
      <td>23</td>
      <td>180</td>
      <td>80</td>
      <td>7</td>
      <td>FA Cup</td>
      <td>Portugal</td>
      <td>1</td>
      <td>246</td>
      <td>57</td>
      <td>...</td>
      <td>0</td>
      <td>125</td>
      <td>10288</td>
      <td>118</td>
      <td>7</td>
      <td>26</td>
      <td>14</td>
      <td>40.0</td>
      <td>2079626</td>
      <td>114.3111</td>
    </tr>
    <tr>
      <th>3976</th>
      <td>R. Neves</td>
      <td>23</td>
      <td>180</td>
      <td>80</td>
      <td>0</td>
      <td>FA Cup</td>
      <td>Portugal</td>
      <td>1</td>
      <td>246</td>
      <td>57</td>
      <td>...</td>
      <td>0</td>
      <td>125</td>
      <td>10288</td>
      <td>118</td>
      <td>7</td>
      <td>26</td>
      <td>14</td>
      <td>40.0</td>
      <td>2079626</td>
      <td>114.3111</td>
    </tr>
    <tr>
      <th>3977</th>
      <td>R. Neves</td>
      <td>23</td>
      <td>180</td>
      <td>80</td>
      <td>7</td>
      <td>UEFA Europa League</td>
      <td>Portugal</td>
      <td>1</td>
      <td>246</td>
      <td>57</td>
      <td>...</td>
      <td>0</td>
      <td>125</td>
      <td>10288</td>
      <td>118</td>
      <td>7</td>
      <td>26</td>
      <td>14</td>
      <td>40.0</td>
      <td>2079626</td>
      <td>114.3111</td>
    </tr>
  </tbody>
</table>
<p>3978 rows × 42 columns</p>
</div>




```python
# df_notnum : league, nationality 정보 포함

a1 = set(df_num.columns)
a2 = set(df_notnum.columns)
dif = a2-a1
dif
```




    {'league', 'nationality', 'player_name'}




```python

```


```python

```

# 2. 데이터 전처리 

    - 결측치 확인
    - 사전적 OLS
    - 데이터 특성 확인(비경기력 요인의 아웃라이어 확인)

### 2-1. 결측치 확인

    - 결측치 없음


```python
%matplotlib inline

import missingno as msno

msno.matrix(df_num)
plt.show()
```


![png](output_20_0.png)



```python
df_num.isnull().sum()
```




    age                      0
    height                   0
    weight                   0
    rating                   0
    captain                  0
    shots_total              0
    shots_on                 0
    goals_total              0
    goals_conceded           0
    goals_assists            0
    passes_total             0
    passes_key               0
    passes_accuracy          0
    tackles_total            0
    tackles_blocks           0
    tackles_interceptions    0
    duels_total              0
    duels_won                0
    dribbles_attempts        0
    dribbles_success         0
    fouls_drawn              0
    fouls_committed          0
    cards_yellow             0
    cards_yellowred          0
    cards_red                0
    penalty_won              0
    penalty_commited         0
    penalty_success          0
    penalty_missed           0
    penalty_saved            0
    games_appearences        0
    games_minutes_played     0
    games_lineups            0
    substitutes_in           0
    substitutes_out          0
    substitutes_bench        0
    value                    0
    follower                 0
    games_played             0
    dtype: int64




```python
msno.matrix(df_notnum[['league','nationality']])
plt.show()
```


![png](output_22_0.png)



```python
df_notnum.isnull().sum()
```




    player_name              0
    age                      0
    height                   0
    weight                   0
    rating                   0
    league                   0
    nationality              0
    captain                  0
    shots_total              0
    shots_on                 0
    goals_total              0
    goals_conceded           0
    goals_assists            0
    passes_total             0
    passes_key               0
    passes_accuracy          0
    tackles_total            0
    tackles_blocks           0
    tackles_interceptions    0
    duels_total              0
    duels_won                0
    dribbles_attempts        0
    dribbles_success         0
    fouls_drawn              0
    fouls_committed          0
    cards_yellow             0
    cards_yellowred          0
    cards_red                0
    penalty_won              0
    penalty_commited         0
    penalty_success          0
    penalty_missed           0
    penalty_saved            0
    games_appearences        0
    games_minutes_played     0
    games_lineups            0
    substitutes_in           0
    substitutes_out          0
    substitutes_bench        0
    value                    0
    follower                 0
    games_played             0
    dtype: int64



### 2-2. 사전적 OLS


```python
# 1. 상수항 결합

import statsmodels.api as sm

x_total= df_num[['captain', 'shots_total', 'shots_on', 'goals_total',
       'goals_conceded', 'goals_assists', 'passes_total', 'passes_key',
       'passes_accuracy', 'tackles_total', 'tackles_blocks',
       'tackles_interceptions', 'duels_total', 'duels_won',
       'dribbles_attempts', 'dribbles_success', 'fouls_drawn',
       'fouls_committed', 'cards_yellow', 'cards_yellowred', 'cards_red',
       'penalty_won', 'penalty_commited', 'penalty_success', 'penalty_missed',
       'penalty_saved', 'games_appearences', 'games_played',
       'games_lineups', 'substitutes_in', 'substitutes_out',
       'substitutes_bench','follower']]

X_total = sm.add_constant(x_total)
y_total = pd.DataFrame(df_num['value'])
```


```python
# 2. train / test 분리

from sklearn.model_selection import train_test_split
X_train, X_test, y_train, y_test = train_test_split(X_total, y_total, test_size=0.3, random_state=0)
```


```python
# 3. OLS 모델링
# 결과 : 매우 낮은 성능 + 매우 높은 조건수 = 매우 좋지 않은 모델

import statsmodels.api as sm
train_model = sm.OLS(y_train, X_train).fit()
print(train_model.summary())
```

                                OLS Regression Results                            
    ==============================================================================
    Dep. Variable:                  value   R-squared:                       0.563
    Model:                            OLS   Adj. R-squared:                  0.502
    Method:                 Least Squares   F-statistic:                     9.117
    Date:                Mon, 15 Jun 2020   Prob (F-statistic):           5.63e-26
    Time:                        11:04:11   Log-Likelihood:                -1058.5
    No. Observations:                 259   AIC:                             2183.
    Df Residuals:                     226   BIC:                             2300.
    Df Model:                          32                                         
    Covariance Type:            nonrobust                                         
    =========================================================================================
                                coef    std err          t      P>|t|      [0.025      0.975]
    -----------------------------------------------------------------------------------------
    const                     5.5516      5.584      0.994      0.321      -5.452      16.555
    captain                  -0.1366      0.068     -2.002      0.047      -0.271      -0.002
    shots_total              -0.0433      0.054     -0.803      0.423      -0.150       0.063
    shots_on                 -0.0953      0.167     -0.571      0.568      -0.424       0.234
    goals_total               1.0213      0.230      4.448      0.000       0.569       1.474
    goals_conceded            0.1896      0.097      1.964      0.051      -0.001       0.380
    goals_assists             0.1072      0.280      0.382      0.702      -0.445       0.660
    passes_total              0.0027      0.001      2.619      0.009       0.001       0.005
    passes_key                0.0180      0.041      0.443      0.658      -0.062       0.098
    passes_accuracy           0.0187      0.007      2.641      0.009       0.005       0.033
    tackles_total             0.0171      0.029      0.580      0.562      -0.041       0.075
    tackles_blocks           -0.0973      0.093     -1.045      0.297      -0.281       0.086
    tackles_interceptions     0.0014      0.038      0.037      0.971      -0.074       0.077
    duels_total               0.0032      0.018      0.176      0.860      -0.033       0.039
    duels_won                 0.0037      0.037      0.101      0.919      -0.069       0.076
    dribbles_attempts         0.0158      0.054      0.289      0.773      -0.092       0.123
    dribbles_success          0.0321      0.083      0.389      0.698      -0.131       0.195
    fouls_drawn              -0.0401      0.033     -1.226      0.221      -0.105       0.024
    fouls_committed          -0.0278      0.044     -0.628      0.530      -0.115       0.059
    cards_yellow              0.0536      0.195      0.275      0.783      -0.330       0.437
    cards_yellowred          -0.7028      1.879     -0.374      0.709      -4.406       3.000
    cards_red                 5.1918      1.890      2.747      0.007       1.467       8.916
    penalty_won               1.2469      0.706      1.765      0.079      -0.145       2.639
    penalty_commited         -0.6881      1.119     -0.615      0.539      -2.893       1.517
    penalty_success          -1.4559      0.469     -3.104      0.002      -2.380      -0.532
    penalty_missed           -1.9477      1.486     -1.311      0.191      -4.875       0.980
    penalty_saved            -1.8858      2.365     -0.797      0.426      -6.546       2.775
    games_appearences        -0.5276      0.346     -1.525      0.129      -1.209       0.154
    games_played              1.3247      0.828      1.600      0.111      -0.307       2.956
    games_lineups            -0.7655      0.501     -1.527      0.128      -1.753       0.222
    substitutes_in            0.2379      0.201      1.186      0.237      -0.158       0.633
    substitutes_out          -0.0704      0.171     -0.411      0.681      -0.408       0.267
    substitutes_bench        -0.1353      0.114     -1.187      0.237      -0.360       0.089
    follower               1.548e-07   6.55e-08      2.365      0.019    2.58e-08    2.84e-07
    ==============================================================================
    Omnibus:                       63.940   Durbin-Watson:                   1.992
    Prob(Omnibus):                  0.000   Jarque-Bera (JB):              154.609
    Skew:                           1.148   Prob(JB):                     2.67e-34
    Kurtosis:                       6.010   Cond. No.                     1.03e+16
    ==============================================================================
    
    Warnings:
    [1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
    [2] The smallest eigenvalue is 8.29e-16. This might indicate that there are
    strong multicollinearity problems or that the design matrix is singular.



```python
# 4. 모델 예측 성능 검증 : 매우 낮은 R_squared

pred = train_model.predict(X_test)

rss = ((y_test.value - pred) ** 2).sum()
tss = ((y_test.value - y_test.value.mean())** 2).sum()
rsquared = 1 - rss / tss
rsquared
```




    0.315276541974884




```python
# 5. real value vs predicted value 도식화

%matplotlib inline

plt.figure(figsize=(15,5))
plt.scatter(y_test, pred, s=10)
plt.xlabel("Real Value")
plt.ylabel("Predicted Value")
plt.title("predicted value VS real value")
plt.show()
```


![png](output_29_0.png)


### 2-3. 데이터 특성 확인

    - 'sns follower data' 대상 outlier 탐색


```python
%matplotlib inline

plt.figure(figsize=(15,5))
sns.regplot(x="follower", y="value", data=df)
plt.show()
```


![png](output_31_0.png)



```python
# 부분회귀 결과, 아웃라이어로 인한 부분회귀 모델의 왜곡 가능성 확인

%matplotlib inline


others = list(set(df.columns).difference(set(["value", "follower"])))
p, resids = sm.graphics.plot_partregress(
    "value", "follower", others, data=df, obs_labels=False, ret_coords=True
)
plt.show()
```


![png](output_32_0.png)



```python
# 표준화 잔차 탐색 결과 : 일부 데이터의 매우 높은 잔차 확인 (아웃라이어 확인)

%matplotlib inline

plt.figure(figsize=(15,5))
plt.stem(train_model.resid_pearson)
plt.axhline(2, c="g", ls="--")
plt.axhline(-2, c="g", ls="--")
plt.title("regularized residual")
plt.show()
```


![png](output_33_0.png)



```python
y_total0 = y_total.value
y_total0.shape
```




    (371,)




```python
# Fox recommendation에 따른 제거 필요한 아웃라이어 확인
# follower 변수 대상으로만 확인

from statsmodels.graphics import utils

influence = train_model.get_influence()
cooks_d2, pvals = influence.cooks_distance
K = influence.k_vars
fox_cr = 4 / (len(y_total0) - K - 1)
idx = np.where(cooks_d2 > fox_cr)[0]

plt.figure(figsize=(15,10))
ax = plt.subplot()
plt.scatter(x_total.follower, y_total0)
plt.scatter(x_total.follower[idx], y_total0[idx], s=300, c="r", alpha=0.5)
utils.annotate_axes(range(len(idx)), idx,
                    list(zip(x_total.follower[idx], y_total0[idx])), [(-20, 15)] * len(idx), size="small", ax=ax)
plt.title("Fox Recommendaion outlier")
plt.show()
```


![png](output_35_0.png)


# 3. EDA

    - 목적 : 각 독립변수의 특성 심층 탐색
    - 기초통계량 확인
    - 주요 독립변수 심층 탐색 (시각화 활용)

### 3-1. 기초통계량 확인


```python
# 1. 주요 기초통계량

X_total.describe().transpose()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>const</th>
      <td>371.0</td>
      <td>1.000000e+00</td>
      <td>0.000000e+00</td>
      <td>1.0000</td>
      <td>1.00000</td>
      <td>1.0000</td>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
    </tr>
    <tr>
      <th>captain</th>
      <td>371.0</td>
      <td>5.107817e+00</td>
      <td>1.602310e+01</td>
      <td>0.0000</td>
      <td>0.00000</td>
      <td>0.0000</td>
      <td>1.500000e+00</td>
      <td>1.270000e+02</td>
    </tr>
    <tr>
      <th>shots_total</th>
      <td>371.0</td>
      <td>1.421456e+02</td>
      <td>1.150056e+02</td>
      <td>0.0000</td>
      <td>56.00000</td>
      <td>114.0000</td>
      <td>2.030000e+02</td>
      <td>6.570000e+02</td>
    </tr>
    <tr>
      <th>shots_on</th>
      <td>371.0</td>
      <td>5.359569e+01</td>
      <td>5.073096e+01</td>
      <td>0.0000</td>
      <td>17.00000</td>
      <td>38.0000</td>
      <td>7.850000e+01</td>
      <td>3.240000e+02</td>
    </tr>
    <tr>
      <th>goals_total</th>
      <td>371.0</td>
      <td>1.954178e+01</td>
      <td>2.122455e+01</td>
      <td>0.0000</td>
      <td>5.00000</td>
      <td>11.0000</td>
      <td>2.900000e+01</td>
      <td>1.210000e+02</td>
    </tr>
    <tr>
      <th>goals_conceded</th>
      <td>371.0</td>
      <td>5.264151e+00</td>
      <td>2.453889e+01</td>
      <td>0.0000</td>
      <td>0.00000</td>
      <td>0.0000</td>
      <td>0.000000e+00</td>
      <td>1.740000e+02</td>
    </tr>
    <tr>
      <th>goals_assists</th>
      <td>371.0</td>
      <td>1.182480e+01</td>
      <td>1.004982e+01</td>
      <td>0.0000</td>
      <td>4.00000</td>
      <td>10.0000</td>
      <td>1.700000e+01</td>
      <td>5.200000e+01</td>
    </tr>
    <tr>
      <th>passes_total</th>
      <td>371.0</td>
      <td>3.344722e+03</td>
      <td>1.836517e+03</td>
      <td>141.0000</td>
      <td>1948.50000</td>
      <td>2993.0000</td>
      <td>4.465500e+03</td>
      <td>9.558000e+03</td>
    </tr>
    <tr>
      <th>passes_key</th>
      <td>371.0</td>
      <td>1.021051e+02</td>
      <td>7.483909e+01</td>
      <td>0.0000</td>
      <td>42.00000</td>
      <td>91.0000</td>
      <td>1.450000e+02</td>
      <td>4.180000e+02</td>
    </tr>
    <tr>
      <th>passes_accuracy</th>
      <td>371.0</td>
      <td>6.863747e+02</td>
      <td>2.223287e+02</td>
      <td>73.0000</td>
      <td>537.50000</td>
      <td>680.0000</td>
      <td>8.265000e+02</td>
      <td>1.816000e+03</td>
    </tr>
    <tr>
      <th>tackles_total</th>
      <td>371.0</td>
      <td>8.131806e+01</td>
      <td>5.644587e+01</td>
      <td>0.0000</td>
      <td>40.00000</td>
      <td>77.0000</td>
      <td>1.090000e+02</td>
      <td>3.840000e+02</td>
    </tr>
    <tr>
      <th>tackles_blocks</th>
      <td>371.0</td>
      <td>1.503774e+01</td>
      <td>1.729939e+01</td>
      <td>0.0000</td>
      <td>3.00000</td>
      <td>9.0000</td>
      <td>1.950000e+01</td>
      <td>1.380000e+02</td>
    </tr>
    <tr>
      <th>tackles_interceptions</th>
      <td>371.0</td>
      <td>8.088949e+01</td>
      <td>5.642619e+01</td>
      <td>0.0000</td>
      <td>33.00000</td>
      <td>74.0000</td>
      <td>1.180000e+02</td>
      <td>2.490000e+02</td>
    </tr>
    <tr>
      <th>duels_total</th>
      <td>371.0</td>
      <td>7.168544e+02</td>
      <td>3.315517e+02</td>
      <td>0.0000</td>
      <td>521.50000</td>
      <td>705.0000</td>
      <td>9.155000e+02</td>
      <td>1.921000e+03</td>
    </tr>
    <tr>
      <th>duels_won</th>
      <td>371.0</td>
      <td>3.621806e+02</td>
      <td>1.659492e+02</td>
      <td>0.0000</td>
      <td>264.50000</td>
      <td>356.0000</td>
      <td>4.520000e+02</td>
      <td>9.380000e+02</td>
    </tr>
    <tr>
      <th>dribbles_attempts</th>
      <td>371.0</td>
      <td>1.714501e+02</td>
      <td>1.344202e+02</td>
      <td>0.0000</td>
      <td>72.50000</td>
      <td>142.0000</td>
      <td>2.430000e+02</td>
      <td>9.140000e+02</td>
    </tr>
    <tr>
      <th>dribbles_success</th>
      <td>371.0</td>
      <td>1.039111e+02</td>
      <td>8.069221e+01</td>
      <td>0.0000</td>
      <td>47.00000</td>
      <td>84.0000</td>
      <td>1.485000e+02</td>
      <td>6.090000e+02</td>
    </tr>
    <tr>
      <th>fouls_drawn</th>
      <td>371.0</td>
      <td>1.040458e+02</td>
      <td>6.492662e+01</td>
      <td>3.0000</td>
      <td>57.00000</td>
      <td>96.0000</td>
      <td>1.410000e+02</td>
      <td>4.080000e+02</td>
    </tr>
    <tr>
      <th>fouls_committed</th>
      <td>371.0</td>
      <td>9.170350e+01</td>
      <td>4.739157e+01</td>
      <td>0.0000</td>
      <td>63.00000</td>
      <td>86.0000</td>
      <td>1.225000e+02</td>
      <td>2.930000e+02</td>
    </tr>
    <tr>
      <th>cards_yellow</th>
      <td>371.0</td>
      <td>1.458760e+01</td>
      <td>8.719953e+00</td>
      <td>0.0000</td>
      <td>8.00000</td>
      <td>13.0000</td>
      <td>2.000000e+01</td>
      <td>5.800000e+01</td>
    </tr>
    <tr>
      <th>cards_yellowred</th>
      <td>371.0</td>
      <td>3.342318e-01</td>
      <td>5.985461e-01</td>
      <td>0.0000</td>
      <td>0.00000</td>
      <td>0.0000</td>
      <td>1.000000e+00</td>
      <td>3.000000e+00</td>
    </tr>
    <tr>
      <th>cards_red</th>
      <td>371.0</td>
      <td>2.884097e-01</td>
      <td>5.698273e-01</td>
      <td>0.0000</td>
      <td>0.00000</td>
      <td>0.0000</td>
      <td>0.000000e+00</td>
      <td>3.000000e+00</td>
    </tr>
    <tr>
      <th>penalty_won</th>
      <td>371.0</td>
      <td>1.466307e+00</td>
      <td>2.032392e+00</td>
      <td>0.0000</td>
      <td>0.00000</td>
      <td>1.0000</td>
      <td>2.000000e+00</td>
      <td>1.300000e+01</td>
    </tr>
    <tr>
      <th>penalty_commited</th>
      <td>371.0</td>
      <td>6.738544e-01</td>
      <td>1.054638e+00</td>
      <td>0.0000</td>
      <td>0.00000</td>
      <td>0.0000</td>
      <td>1.000000e+00</td>
      <td>5.000000e+00</td>
    </tr>
    <tr>
      <th>penalty_success</th>
      <td>371.0</td>
      <td>1.867925e+00</td>
      <td>3.725924e+00</td>
      <td>0.0000</td>
      <td>0.00000</td>
      <td>0.0000</td>
      <td>2.000000e+00</td>
      <td>2.500000e+01</td>
    </tr>
    <tr>
      <th>penalty_missed</th>
      <td>371.0</td>
      <td>4.743935e-01</td>
      <td>9.248911e-01</td>
      <td>0.0000</td>
      <td>0.00000</td>
      <td>0.0000</td>
      <td>1.000000e+00</td>
      <td>5.000000e+00</td>
    </tr>
    <tr>
      <th>penalty_saved</th>
      <td>371.0</td>
      <td>1.347709e-01</td>
      <td>7.338559e-01</td>
      <td>0.0000</td>
      <td>0.00000</td>
      <td>0.0000</td>
      <td>0.000000e+00</td>
      <td>8.000000e+00</td>
    </tr>
    <tr>
      <th>games_appearences</th>
      <td>371.0</td>
      <td>1.074744e+02</td>
      <td>2.853289e+01</td>
      <td>55.0000</td>
      <td>92.00000</td>
      <td>106.0000</td>
      <td>1.205000e+02</td>
      <td>4.220000e+02</td>
    </tr>
    <tr>
      <th>games_played</th>
      <td>371.0</td>
      <td>9.183579e+01</td>
      <td>2.592778e+01</td>
      <td>50.4667</td>
      <td>75.14445</td>
      <td>91.2667</td>
      <td>1.048555e+02</td>
      <td>3.123444e+02</td>
    </tr>
    <tr>
      <th>games_lineups</th>
      <td>371.0</td>
      <td>9.250404e+01</td>
      <td>2.648124e+01</td>
      <td>45.0000</td>
      <td>75.00000</td>
      <td>91.0000</td>
      <td>1.060000e+02</td>
      <td>3.140000e+02</td>
    </tr>
    <tr>
      <th>substitutes_in</th>
      <td>371.0</td>
      <td>1.497035e+01</td>
      <td>1.255783e+01</td>
      <td>0.0000</td>
      <td>5.00000</td>
      <td>12.0000</td>
      <td>2.100000e+01</td>
      <td>1.080000e+02</td>
    </tr>
    <tr>
      <th>substitutes_out</th>
      <td>371.0</td>
      <td>2.317520e+01</td>
      <td>1.713426e+01</td>
      <td>0.0000</td>
      <td>9.00000</td>
      <td>22.0000</td>
      <td>3.400000e+01</td>
      <td>1.300000e+02</td>
    </tr>
    <tr>
      <th>substitutes_bench</th>
      <td>371.0</td>
      <td>2.657682e+01</td>
      <td>2.053123e+01</td>
      <td>1.0000</td>
      <td>13.50000</td>
      <td>23.0000</td>
      <td>3.600000e+01</td>
      <td>2.410000e+02</td>
    </tr>
    <tr>
      <th>follower</th>
      <td>371.0</td>
      <td>4.517701e+06</td>
      <td>1.695631e+07</td>
      <td>90.0000</td>
      <td>154249.00000</td>
      <td>740918.0000</td>
      <td>2.681188e+06</td>
      <td>2.221069e+08</td>
    </tr>
  </tbody>
</table>
</div>




```python
# 2. 표준편차 분포 확인
# 확인 결과 : passess_total, games_played, follower 변수의 표준편차가 높은 것을 알 수 있음.
# 특히, follower의 표준편차가 매우 커, 스케일링이 필요할 것으로 보임

plt.figure(figsize=(20,5))
plt.xticks(rotation=90)
plt.scatter(X_total.columns,np.log(X_total.describe().loc['std']),s=30)
plt.show()
```


![png](output_39_0.png)



```python
# 3. 왜도 확인
# 거의 모든 feature에서 왜도가 (+)양수로 큰 값 = 왼쪽으로 치우쳐진 비대칭 분포를 보임을 알 수 있음

skew_val = list(sp.stats.skew(X_total))
skew_col = list(X_total.columns)
```


```python
# 왜도 분포 확인
# 왜도 분포 확인 결과 : 전반적인 왼쪽 비대칭 분포 확인
# 특히, captain, goals_connectec, penalty_saved, follower의 왜도가 매우 커, 이들 변수에 대한 스케일링이 필요할 것으로 보임

skew = dict(zip(skew_col,skew_val))
plt.figure(figsize=(20,5))
plt.xticks(rotation=90)
plt.title("Scatter plot of skewness")
plt.scatter(skew_col,skew_val,s=30)
plt.show()
```


![png](output_41_0.png)



```python

```


```python
# 3. 첨도 확인

sp.stats.kurtosis(X_total)
```




    array([-3.        , 22.45472784,  2.70864098,  3.62000146,  4.15740382,
           22.20754032,  1.49484411,  0.18553476,  1.04668228,  1.51903983,
            4.00388017,  8.51104484, -0.32600714,  0.51666964,  0.50925012,
            3.10027301,  5.34335654,  1.77901213,  1.06751842,  1.64286845,
            2.62437526,  5.30884456,  5.3535895 ,  2.6935338 ,  9.62709079,
            4.55317201, 50.90453937, 46.00553577, 17.7260476 , 16.58602221,
            7.69039125,  3.38349779, 33.17007768, 98.30868498])




```python
# 4. 첨도 분포 확인

plt.figure(figsize=(20,5))
plt.xticks(rotation=90)
plt.scatter(X_total.columns,sp.stats.kurtosis(X_total),s=30)
plt.show()
```


![png](output_44_0.png)


### 3-2. 주요 독립변수 심층 탐색

    - 리그별 몸값, 나라별 몸값(지금까지)
    - 나이별, 골, 패스(횟수, 성공률) - 몸값 해야함


```python

```

# 4. 스케일링(EDA 후작업)

       


```python

```

# 5. OLS

    - 스케일링 후 조건수 변화 확인 

# 6. 다중공산성 탐색

    - 히트맵
    - 공분산 행렬

# 7. 다중공산성 제거 

    - VIF

# 8. OLS

    - 스케일링, 다중공산성 제거 후 조건수 확인

# 9. 데이터셋 분할

    - 포지션 별, train/test 데이터셋 구성

# 10. featrue selection

    - PCA, P-value 비교 => forward step-wise selection


```python

```

# EDA 시사점

### 1. 기초통계량 분석

    1) 표준편차 분포 확인
        passess_total, games_played, follower 변수의 표준편차가 높은 것을 알 수 있음.
        특히, follower의 표준편차가 매우 커, 스케일링이 필요할 것으로 보임
    
    2) 왜도 확인
        거의 모든 feature에서 왜도가 (+)양수로 큰 값 = 전반적으로 왼쪽으로 치우쳐진 비대칭 분포를 보임을 알 수 있음
        특히, captain, goals_connectec, penalty_saved, follower의 왜도가 매우 커, 이들 변수에 대한 스케일링이 필요할 것으로 보임
        
        


```python

```


```python

```
